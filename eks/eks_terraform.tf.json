{
  "resource": {
    "aws_eks_cluster": {
      "main": {
        "name": "demo-eks-cluster-2025",
        "role_arn": "${aws_iam_role.demo-eks-cluster-role-2025.arn}",
        "version": "1.29",
        "vpc_config": {
          "subnet_ids": [
            "subnet-0123456789abcdef0",
            "subnet-0fedcba9876543210"
          ],
          "security_group_ids": [
            "sg-0a1b2c3d4e5f67890"
          ],
          "endpoint_private_access": true,
          "endpoint_public_access": false
        },
        "enabled_cluster_log_types": [
          "api",
          "audit",
          "authenticator",
          "controllerManager",
          "scheduler"
        ],
        "tags": {
          "Environment": "dev"
        }
      }
    },
    "aws_eks_node_group": {
      "demo-ng1": {
        "cluster_name": "demo-eks-cluster-2025",
        "node_group_name": "demo-ng1",
        "node_role_arn": "${aws_iam_role.demo-eks-node-group-role-2025.arn}",
        "subnet_ids": [
          "subnet-0123456789abcdef0",
          "subnet-0fedcba9876543210"
        ],
        "instance_types": [
          "t3.medium"
        ],
        "scaling_config": {
          "desired_size": 2,
          "min_size": 1,
          "max_size": 3
        },
        "disk_size": 20,
        "remote_access": {
          "ec2_ssh_key": "demo-eks-key",
          "source_security_group_ids": [
            "sg-0a1b2c3d4e5f67890"
          ]
        },
        "tags": {
          "NodeGroup": "demo-ng1",
          "Environment": "dev"
        }
      }
    },
    "aws_iam_role": {
      "demo-eks-cluster-role-2025": {
        "name": "demo-eks-cluster-role-2025",
        "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}"
      },
      "demo-eks-node-group-role-2025": {
        "name": "demo-eks-node-group-role-2025",
        "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}"
      }
    },
    "aws_iam_role_policy_attachment": {
      "demo-eks-cluster-role-2025-AmazonEKSClusterPolicy": {
        "role": "${aws_iam_role.demo-eks-cluster-role-2025.name}",
        "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
      },
      "demo-eks-node-group-role-2025-AmazonEKSWorkerNodePolicy": {
        "role": "${aws_iam_role.demo-eks-node-group-role-2025.name}",
        "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"
      },
      "demo-eks-node-group-role-2025-AmazonEC2ContainerRegistryReadOnly": {
        "role": "${aws_iam_role.demo-eks-node-group-role-2025.name}",
        "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
      }
    }
  }
}